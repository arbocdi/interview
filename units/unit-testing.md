# Критерии unit-тестов (кратко)

## Что такое unit-тест
**Unit-тест** проверяет поведение одного юнита (метода / класса) в изоляции от окружения.

---

## Основные критерии

1. **Изолированность**  
   Тестируется один юнит, все зависимости замоканы или зафейканы.

2. **Детерминированность**  
   Результат всегда одинаковый. Нет времени, рандома, сети, БД.

3. **Быстрота**  
   Выполнение за миллисекунды. Тысячи тестов — за секунды.

4. **Независимость**  
   Тесты не зависят друг от друга и от порядка запуска.

5. **Читаемость**  
   По имени и телу теста сразу понятно, что проверяется.

6. **Одна причина падения**  
   Один тест — одно поведение.

7. **Проверка поведения**  
   Тестируем *что делает код*, а не *как он это делает*.

8. **Минимум инфраструктуры**  
   Чистая JVM. Без Spring Context, контейнеров и файловой системы.

9. **Быстрый фидбек**  
   Падение теста сразу указывает на причину проблемы.

10. **Поддерживаемость**  
    Тесты не ломаются при рефакторинге реализации.

---

## Антипаттерны
- `Thread.sleep`
- реальные БД, Kafka, Redis
- `@SpringBootTest` для unit-тестов
- нестабильные (flaky) тесты
- сложные и непонятные проверки

---

## Золотое правило
> **Unit-тест должен быть быстрым, изолированным и понятным.**
